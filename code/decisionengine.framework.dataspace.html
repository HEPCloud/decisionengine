<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>decisionengine.framework.dataspace package &mdash; decisionengine 1.7.1.dev78+g1d750001 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="decisionengine.framework.dataspace.datasources package" href="decisionengine.framework.dataspace.datasources.html" />
    <link rel="prev" title="decisionengine.framework.config.tests package" href="decisionengine.framework.config.tests.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> decisionengine
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/release_notes_1.7.html">Latest</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing and running HEPCloud’s Decision Engine</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../jenkins.html">Decisionengine CI with Jenkins pipeline</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome to decisionengine’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="decisionengine.html">decisionengine package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="decisionengine.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="decisionengine.framework.html">decisionengine.framework package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="decisionengine.framework.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.html#module-decisionengine.framework.about">decisionengine.framework.about module</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.html#module-decisionengine.framework.version">decisionengine.framework.version module</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.html#module-decisionengine.framework">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="decisionengine.tests.html">decisionengine.tests package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.html#module-decisionengine">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">decisionengine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Welcome to decisionengine’s documentation!</a> &raquo;</li>
          <li><a href="decisionengine.html">decisionengine package</a> &raquo;</li>
          <li><a href="decisionengine.framework.html">decisionengine.framework package</a> &raquo;</li>
      <li>decisionengine.framework.dataspace package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/code/decisionengine.framework.dataspace.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="decisionengine-framework-dataspace-package">
<h1>decisionengine.framework.dataspace package<a class="headerlink" href="#decisionengine-framework-dataspace-package" title="Permalink to this headline"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.html">decisionengine.framework.dataspace.datasources package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.sqlalchemy_ds.html">decisionengine.framework.dataspace.datasources.sqlalchemy_ds package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.sqlalchemy_ds.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.sqlalchemy_ds.html#module-decisionengine.framework.dataspace.datasources.sqlalchemy_ds.datasource_api">decisionengine.framework.dataspace.datasources.sqlalchemy_ds.datasource_api module</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.sqlalchemy_ds.html#module-decisionengine.framework.dataspace.datasources.sqlalchemy_ds.db_schema">decisionengine.framework.dataspace.datasources.sqlalchemy_ds.db_schema module</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.sqlalchemy_ds.html#module-decisionengine.framework.dataspace.datasources.sqlalchemy_ds.utils">decisionengine.framework.dataspace.datasources.sqlalchemy_ds.utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.sqlalchemy_ds.html#module-decisionengine.framework.dataspace.datasources.sqlalchemy_ds">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.tests.html">decisionengine.framework.dataspace.datasources.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.tests.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.tests.html#module-decisionengine.framework.dataspace.datasources.tests.fixtures">decisionengine.framework.dataspace.datasources.tests.fixtures module</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.tests.html#module-decisionengine.framework.dataspace.datasources.tests.test_datasource_api">decisionengine.framework.dataspace.datasources.tests.test_datasource_api module</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.tests.html#module-decisionengine.framework.dataspace.datasources.tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.html#module-decisionengine.framework.dataspace.datasources.null">decisionengine.framework.dataspace.datasources.null module</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.datasources.html#module-decisionengine.framework.dataspace.datasources">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html">decisionengine.framework.dataspace.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#module-decisionengine.framework.dataspace.tests.fixtures">decisionengine.framework.dataspace.tests.fixtures module</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#module-decisionengine.framework.dataspace.tests.test_Reaper">decisionengine.framework.dataspace.tests.test_Reaper module</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#module-decisionengine.framework.dataspace.tests.test_datablock">decisionengine.framework.dataspace.tests.test_datablock module</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#module-decisionengine.framework.dataspace.tests.test_datablock_zlib">decisionengine.framework.dataspace.tests.test_datablock_zlib module</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#module-decisionengine.framework.dataspace.tests.test_datasource">decisionengine.framework.dataspace.tests.test_datasource module</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#module-decisionengine.framework.dataspace.tests.test_dataspace">decisionengine.framework.dataspace.tests.test_dataspace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="decisionengine.framework.dataspace.tests.html#module-decisionengine.framework.dataspace.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-decisionengine.framework.dataspace.datablock">
<span id="decisionengine-framework-dataspace-datablock-module"></span><h2>decisionengine.framework.dataspace.datablock module<a class="headerlink" href="#module-decisionengine.framework.dataspace.datablock" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">DataBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sequence_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.__insert">
<span class="sig-name descname"><span class="pre">__insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.__insert" title="Permalink to this definition"></a></dt>
<dd><p>Insert a new product into database with header and metadata</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.__update">
<span class="sig-name descname"><span class="pre">__update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.__update" title="Permalink to this definition"></a></dt>
<dd><p>Update an existing product in the database with header and metadata</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock._setitem">
<span class="sig-name descname"><span class="pre">_setitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock._setitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock._setitem" title="Permalink to this definition"></a></dt>
<dd><p>put a product in the database with header and metadata</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.duplicate">
<span class="sig-name descname"><span class="pre">duplicate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.duplicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.duplicate" title="Permalink to this definition"></a></dt>
<dd><p>Duplicate the datablock and return this new DataBlock. The intent is
that at the point the duplication occurs there is only information
from the sources in the DataBlock.
This also increments the generation_id of this DataBlock.</p>
<p>TODO: Also update the header and the metadata information
TODO: Make this threadsafe</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#decisionengine.framework.dataspace.datablock.DataBlock" title="decisionengine.framework.dataspace.datablock.DataBlock"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataBlock</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.get" title="Permalink to this definition"></a></dt>
<dd><p>Return the value associated with the key in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.get_dataproducts">
<span class="sig-name descname"><span class="pre">get_dataproducts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.get_dataproducts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.get_dataproducts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.get_header">
<span class="sig-name descname"><span class="pre">get_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.get_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.get_header" title="Permalink to this definition"></a></dt>
<dd><p>Return the Header associated with the key in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#decisionengine.framework.dataspace.datablock.Header" title="decisionengine.framework.dataspace.datablock.Header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Header</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.get_metadata">
<span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.get_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Return the metadata associated with the key in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#decisionengine.framework.dataspace.datablock.Metadata" title="decisionengine.framework.dataspace.datablock.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Metadata</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.get_taskmanager">
<span class="sig-name descname"><span class="pre">get_taskmanager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.get_taskmanager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.get_taskmanager" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve TaskManager
:type taskmanager_name: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_name: name of taskmanager to retrieve
:type taskmanager_id: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_id: id of taskmanager to retrieve
:rtype: :obj: <cite>dict</cite></p>
<p>The dictionary returned looks like :
{‘datestamp’: datetime.datetime(2017, 12, 20, 17, 37, 17, 503210,</p>
<blockquote>
<div><blockquote>
<div><p>tzinfo=psycopg2.tz.FixedOffsetTimezone(offset=-360, name=None)),</p>
</div></blockquote>
<p>‘sequence_id’: 135L,
‘name’: ‘AWS_Calculations’,
‘taskmanager_id’: ‘77B16EB5-C79E-45B0-B1B1-37E846692E1D’}</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.is_expired">
<span class="sig-name descname"><span class="pre">is_expired</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.is_expired"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.is_expired" title="Permalink to this definition"></a></dt>
<dd><p>Check if the dataproduct for a given key or any key is expired</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.mark_expired">
<span class="sig-name descname"><span class="pre">mark_expired</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiration_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.mark_expired"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.mark_expired" title="Permalink to this definition"></a></dt>
<dd><p>Set the expiration_time for the current generation of the dataproduct
and mark it as expired if expiration_time &lt;= current time</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.put"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.put" title="Permalink to this definition"></a></dt>
<dd><p>Put data into the DataBlock</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.DataBlock.store_taskmanager">
<span class="sig-name descname"><span class="pre">store_taskmanager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#DataBlock.store_taskmanager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.DataBlock.store_taskmanager" title="Permalink to this definition"></a></dt>
<dd><p>Persist TaskManager, returns sequence number
:type taskmanager_name: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:type taskmanager_id: :obj: <cite>string</cite>
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Header">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">Header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiration_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduled_create_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'module'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#Header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Header" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.UserDict</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Header._abc_impl">
<span class="sig-name descname"><span class="pre">_abc_impl</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;_abc._abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Header._abc_impl" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Header.default_data_lifetime">
<span class="sig-name descname"><span class="pre">default_data_lifetime</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1800</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Header.default_data_lifetime" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Header.is_valid">
<span class="sig-name descname"><span class="pre">is_valid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#Header.is_valid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Header.is_valid" title="Permalink to this definition"></a></dt>
<dd><p>Check if the Header has minimum required information</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Header.required_keys">
<span class="sig-name descname"><span class="pre">required_keys</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'create_time',</span> <span class="pre">'creator',</span> <span class="pre">'expiration_time',</span> <span class="pre">'scheduled_create_time',</span> <span class="pre">'schema_id',</span> <span class="pre">'taskmanager_id'}</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Header.required_keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.InvalidMetadataError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">InvalidMetadataError</span></span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#InvalidMetadataError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.InvalidMetadataError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Errors due to invalid Metadata</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Metadata">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">Metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NEW'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missed_update_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#Metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Metadata" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.UserDict</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Metadata._abc_impl">
<span class="sig-name descname"><span class="pre">_abc_impl</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;_abc._abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Metadata._abc_impl" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Metadata.required_keys">
<span class="sig-name descname"><span class="pre">required_keys</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'generation_id',</span> <span class="pre">'generation_time',</span> <span class="pre">'missed_update_count',</span> <span class="pre">'state',</span> <span class="pre">'taskmanager_id'}</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Metadata.required_keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Metadata.set_state">
<span class="sig-name descname"><span class="pre">set_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#Metadata.set_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Metadata.set_state" title="Permalink to this definition"></a></dt>
<dd><p>Set the state for the Metadata</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.Metadata.valid_states">
<span class="sig-name descname"><span class="pre">valid_states</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'END_CYCLE',</span> <span class="pre">'METADATA_UPDATE',</span> <span class="pre">'NEW',</span> <span class="pre">'START_BACKUP'}</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.Metadata.valid_states" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.ProductRetriever">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">ProductRetriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#ProductRetriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.ProductRetriever" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.compress">
<span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">compress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#compress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.compress" title="Permalink to this definition"></a></dt>
<dd><p>Compress python object
:param obj: python object
:return: compressed object</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.decompress">
<span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">decompress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zbytes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#decompress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.decompress" title="Permalink to this definition"></a></dt>
<dd><p>Decompress zipped byte stream, convert to string.
:param zbytes: byte stream
:return: uncompressed string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.zdumps">
<span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">zdumps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#zdumps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.zdumps" title="Permalink to this definition"></a></dt>
<dd><p>Pickle and compress
:param obj: a python object
:return: compressed string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datablock.zloads">
<span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datablock.</span></span><span class="sig-name descname"><span class="pre">zloads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zbytes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datablock.html#zloads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datablock.zloads" title="Permalink to this definition"></a></dt>
<dd><p>Decompress and unpickle
If input is not compressed
attempts to just unpickle it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>zbytes</strong> – compressed bytes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns python object</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-decisionengine.framework.dataspace.datasource">
<span id="decisionengine-framework-dataspace-datasource-module"></span><h2>decisionengine.framework.dataspace.datasource module<a class="headerlink" href="#module-decisionengine.framework.dataspace.datasource" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.datasource.</span></span><span class="sig-name descname"><span class="pre">DataSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource._abc_impl">
<span class="sig-name descname"><span class="pre">_abc_impl</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;_abc._abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource._abc_impl" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.close">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.close" title="Permalink to this definition"></a></dt>
<dd><p>Close all connections to the database</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.connect">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.connect" title="Permalink to this definition"></a></dt>
<dd><p>Create a pool of database connections</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.create_tables">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_tables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.create_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.create_tables" title="Permalink to this definition"></a></dt>
<dd><p>Create database tables</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.dataproduct_table">
<span class="sig-name descname"><span class="pre">dataproduct_table</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'dataproduct'</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.dataproduct_table" title="Permalink to this definition"></a></dt>
<dd><p>Name of the dataproduct table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.delete_data_older_than">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_data_older_than</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">days</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.delete_data_older_than"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.delete_data_older_than" title="Permalink to this definition"></a></dt>
<dd><p>Delete data older that interval
:type days: <code class="xref py py-obj docutils literal notranslate"><span class="pre">long</span></code>
:arg days: remove data older than interval</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.duplicate_datablock">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">duplicate_datablock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_generation_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.duplicate_datablock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.duplicate_datablock" title="Permalink to this definition"></a></dt>
<dd><p>For the given taskmanager_id, make a copy of the datablock with given
generation_id, set the generation_id for the datablock copy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – taskmanager_id for generation to be retrieved</p></li>
<li><p><strong>generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the data</p></li>
<li><p><strong>new_generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the new datablock created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_datablock">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_datablock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_datablock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_datablock" title="Permalink to this definition"></a></dt>
<dd><p>Return the entire datablock from the dataproduct table for the given
taskmanager_id, generation_id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – taskmanager_id for generation to be retrieved</p></li>
<li><p><strong>generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_dataproduct">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_dataproduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_dataproduct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_dataproduct" title="Permalink to this definition"></a></dt>
<dd><p>Return the data from the dataproduct table for the given
taskmanager_id, generation_id, key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – taskmanager_id for generation to be retrieved</p></li>
<li><p><strong>generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the data</p></li>
<li><p><strong>key</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – key for the value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_dataproducts">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_dataproducts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_dataproducts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_dataproducts" title="Permalink to this definition"></a></dt>
<dd><p>Return list of all data products associated with
with taskmanager_id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – data product key</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_header">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_header" title="Permalink to this definition"></a></dt>
<dd><p>Return the header from the header table for the given
taskmanager_id, generation_id, key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – taskmanager_id for generation to be retrieved</p></li>
<li><p><strong>generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the data</p></li>
<li><p><strong>key</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – key for the value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_last_generation_id">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_last_generation_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_last_generation_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_last_generation_id" title="Permalink to this definition"></a></dt>
<dd><p>Return last generation id for current task manager
or taskmanager w/ task_manager_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_name</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – task manager name</p></li>
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – task manager id</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_metadata">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Return the metadata from the metadata table for the given
taskmanager_id, generation_id, key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – taskmanager_id for generation to be retrieved</p></li>
<li><p><strong>generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the data</p></li>
<li><p><strong>key</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – key for the value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_schema">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_schema" title="Permalink to this definition"></a></dt>
<dd><p>Given the table name return it’s schema</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – Name of the table</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_taskmanager">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_taskmanager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_taskmanager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_taskmanager" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve TaskManager
:type taskmanager_name: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_name: name of taskmanager to retrieve
:type taskmanager_id: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_id: id of taskmanager to retrieve</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.get_taskmanagers">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_taskmanagers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.get_taskmanagers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.get_taskmanagers" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve TaskManagers
:type taskmanager_name: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_name: name of taskmanager to retrieve
:type taskmanager_id: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_id: id of taskmanager to retrieve</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.header_table">
<span class="sig-name descname"><span class="pre">header_table</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'header'</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.header_table" title="Permalink to this definition"></a></dt>
<dd><p>Name of the header table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.insert">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.insert" title="Permalink to this definition"></a></dt>
<dd><p>Insert data into respective tables for the given
taskmanager_id, generation_id, key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – taskmanager_id for generation to be retrieved</p></li>
<li><p><strong>generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the data</p></li>
<li><p><strong>key</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – key for the value</p></li>
<li><p><strong>value</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code>) – Value can be an object or dict</p></li>
<li><p><strong>header</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Header</span></code>) – Header for the value</p></li>
<li><p><strong>header</strong> – Metadata for the value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.metadata_table">
<span class="sig-name descname"><span class="pre">metadata_table</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'metadata'</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.metadata_table" title="Permalink to this definition"></a></dt>
<dd><p>Name of the metadata table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.reset_connections">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reset_connections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.reset_connections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.reset_connections" title="Permalink to this definition"></a></dt>
<dd><p>Drop any cached connections and reconnect to the database</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.store_taskmanager">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">store_taskmanager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.store_taskmanager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.store_taskmanager" title="Permalink to this definition"></a></dt>
<dd><p>Store TaskManager
:type taskmanager_name: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_name: name of taskmanager to retrieve
:type taskmanager_id: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:arg taskmanager_id: id of taskmanager to retrieve
:type datestamp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code>
:arg datestamp: datetime of created object, defaults to ‘now’</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.taskmanager_table">
<span class="sig-name descname"><span class="pre">taskmanager_table</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'taskmanager'</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.taskmanager_table" title="Permalink to this definition"></a></dt>
<dd><p>Name of the taskmanager table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.datasource.DataSource.update">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/datasource.html#DataSource.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.datasource.DataSource.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the data in respective tables for the given
taskmanager_id, generation_id, key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taskmanager_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – taskmanager_id for generation to be retrieved</p></li>
<li><p><strong>generation_id</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – generation_id of the data</p></li>
<li><p><strong>key</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>) – key for the value</p></li>
<li><p><strong>value</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code>) – Value can be an object or dict</p></li>
<li><p><strong>header</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Header</span></code>) – Header for the value</p></li>
<li><p><strong>header</strong> – Metadata for the value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-decisionengine.framework.dataspace.dataspace">
<span id="decisionengine-framework-dataspace-dataspace-module"></span><h2>decisionengine.framework.dataspace.dataspace module<a class="headerlink" href="#module-decisionengine.framework.dataspace.dataspace" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.dataspace.</span></span><span class="sig-name descname"><span class="pre">DataSpace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>DataSpace class is collection of datablocks and provides interface
to the database used to store the actual data</p>
<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.close" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_generations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.delete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.duplicate_datablock">
<span class="sig-name descname"><span class="pre">duplicate_datablock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_generation_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.duplicate_datablock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.duplicate_datablock" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_datablock">
<span class="sig-name descname"><span class="pre">get_datablock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_datablock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_datablock" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_dataproduct">
<span class="sig-name descname"><span class="pre">get_dataproduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_dataproduct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_dataproduct" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_dataproducts">
<span class="sig-name descname"><span class="pre">get_dataproducts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_dataproducts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_dataproducts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_header">
<span class="sig-name descname"><span class="pre">get_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_header" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_last_generation_id">
<span class="sig-name descname"><span class="pre">get_last_generation_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_last_generation_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_last_generation_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_metadata">
<span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_metadata" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_taskmanager">
<span class="sig-name descname"><span class="pre">get_taskmanager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_taskmanager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_taskmanager" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.get_taskmanagers">
<span class="sig-name descname"><span class="pre">get_taskmanagers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.get_taskmanagers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.get_taskmanagers" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.insert" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.mark_demented">
<span class="sig-name descname"><span class="pre">mark_demented</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.mark_demented"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.mark_demented" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.mark_expired">
<span class="sig-name descname"><span class="pre">mark_expired</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiry_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.mark_expired"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.mark_expired" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.store_taskmanager">
<span class="sig-name descname"><span class="pre">store_taskmanager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.store_taskmanager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.store_taskmanager" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpace.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taskmanager_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpace.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpace.update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpaceConfigurationError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.dataspace.</span></span><span class="sig-name descname"><span class="pre">DataSpaceConfigurationError</span></span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpaceConfigurationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpaceConfigurationError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Errors related to database access</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpaceConnectionError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.dataspace.</span></span><span class="sig-name descname"><span class="pre">DataSpaceConnectionError</span></span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpaceConnectionError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpaceConnectionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Errors related to database access</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpaceError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.dataspace.</span></span><span class="sig-name descname"><span class="pre">DataSpaceError</span></span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpaceError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpaceError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Errors related to database access</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.dataspace.DataSpaceExistsError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.dataspace.</span></span><span class="sig-name descname"><span class="pre">DataSpaceExistsError</span></span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/dataspace.html#DataSpaceExistsError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.dataspace.DataSpaceExistsError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Errors related to database access</p>
</dd></dl>

</section>
<section id="module-decisionengine.framework.dataspace.maintain">
<span id="decisionengine-framework-dataspace-maintain-module"></span><h2>decisionengine.framework.dataspace.maintain module<a class="headerlink" href="#module-decisionengine.framework.dataspace.maintain" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">decisionengine.framework.dataspace.maintain.</span></span><span class="sig-name descname"><span class="pre">Reaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/maintain.html#Reaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Reaper provides functionality of periodic deletion
of data older than retention_interval in days</p>
<p>The class attributes indicate a rational set of defaults
that shouldn’t be altered by user configuration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper.MIN_RETENTION_INTERVAL_DAYS">
<span class="sig-name descname"><span class="pre">MIN_RETENTION_INTERVAL_DAYS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper.MIN_RETENTION_INTERVAL_DAYS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper.MIN_SECONDS_BETWEEN_RUNS">
<span class="sig-name descname"><span class="pre">MIN_SECONDS_BETWEEN_RUNS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7080</span></em><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper.MIN_SECONDS_BETWEEN_RUNS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper._reaper_loop">
<span class="sig-name descname"><span class="pre">_reaper_loop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delay</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/maintain.html#Reaper._reaper_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper._reaper_loop" title="Permalink to this definition"></a></dt>
<dd><p>The thread actually runs this.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper.reap">
<span class="sig-name descname"><span class="pre">reap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/maintain.html#Reaper.reap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper.reap" title="Permalink to this definition"></a></dt>
<dd><p>Actually spawn the query to delete the old records.
Lock the state as this task doesn’t have a cancel option.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper.retention_interval">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">retention_interval</span></span><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper.retention_interval" title="Permalink to this definition"></a></dt>
<dd><p>We have data constraints, so use a property to track</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper.seconds_between_runs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">seconds_between_runs</span></span><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper.seconds_between_runs" title="Permalink to this definition"></a></dt>
<dd><p>We have data constraints, so use a property to track</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/maintain.html#Reaper.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper.start" title="Permalink to this definition"></a></dt>
<dd><p>Start thread with an optional delay to start the thread in X seconds</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="decisionengine.framework.dataspace.maintain.Reaper.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/decisionengine/framework/dataspace/maintain.html#Reaper.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#decisionengine.framework.dataspace.maintain.Reaper.stop" title="Permalink to this definition"></a></dt>
<dd><p>Try to stop the reaper, will block if the reaper cannot be interupted.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-decisionengine.framework.dataspace">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-decisionengine.framework.dataspace" title="Permalink to this headline"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="decisionengine.framework.config.tests.html" class="btn btn-neutral float-left" title="decisionengine.framework.config.tests package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="decisionengine.framework.dataspace.datasources.html" class="btn btn-neutral float-right" title="decisionengine.framework.dataspace.datasources package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Fermilab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>